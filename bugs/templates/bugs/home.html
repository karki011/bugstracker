{% extends 'base.html'%}

{% block content%}
<hr>
<div class="row text-center justify-content-center mb-3">
    <div class="mr-1 col-sm-12  col-md-6 col-lg-7 bg-secondary status-count ">
        <a href="#new_ticket" style="color:white; line-height: 1.65" class="display-4">
            Total tickets :{{tickets.count}}
        </a>
    </div>
</div>

<div class="row text-center justify-content-center">
    <div class="mr-1 col-sm-12  col-md-6 col-lg-2 btn-primary status-count ">
        <a href="#new_ticket" style="color:white">
            New :{{new_ticket.count}}
        </a>
    </div>
    <div class="mr-1  col-sm-12 col-md-6 col-lg-3 btn-warning status-count  ">
        <a href="#in_progress" style="color:white">
            In Progress : {{in_progress.count}}
        </a>
    </div>
    <div class="mr-1 col-sm-12  col-md-6 col-lg-2 btn-success status-count  ">
        <a href="#completed" style="color:white">
            Completed: {{completed.count}}
        </a>
    </div>
    <div class=" col-sm-12 col-md-6 col-lg-2 btn-dark status-count  ">
        <del>
            <a href="#invalid" style="color:white">Invalid : {{invalid.count}}</a>
        </del>
    </div>
</div>
<hr>

<div class="jumbotron jumbotron-fluid" id="new_ticket">
    <div class="container">
        <h1 class="display-5 text-center mb-3">NEW TICKETS</h1>
        <div class="table-responsive-md card">
            <table class="table table-bordered table-light table-hover">
                <thead class="bg-primary">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Title</th>
                    <th scope="col">Reported by:</th>
                    <th scope="col">Date Created:</th>
                </tr>
                </thead>
                <tbody>
                {% for ticket in new_ticket %}
                <tr>
                    <th scope="row">{{ticket.id}}</th>
                    <th scope="row">
                        <a href="{% url 'ticketdetail' ticket.id %}">
                            {{ticket.title}}
                        </a>
                    </th>
                    <th scope="row">
                        <a href="{% url 'userticket' ticket.created_by %}">
                            {{ticket.created_by}}
                        </a>
                    </th>
                    <th scope="row">{{ticket.date_created}}</th>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>


<div class="jumbotron jumbotron-fluid" id="in_progress">
    <div class="container">
        <h1 class="display-5 text-center mb-3">IN PROGRESS TICKETS</h1>
        <div class="table-responsive-md">
            <table class="table table-bordered table-light table-hover">
                <thead class="btn-warning ">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Title</th>
                    <th scope="col">Reported by:</th>
                    <th scope="col">Assigned to:</th>
                    <th scope="col">Date Created:</th>
                </tr>
                </thead>
                <tbody>
                {% for ticket in in_progress %}
                <tr>
                    <th scope="row">{{ticket.id}}</th>
                    <th scope="row">
                        <a href="{% url 'ticketdetail' ticket.id %}">
                            {{ticket.title}}
                        </a>
                    </th>
                    <th scope="row">
                        <a href="{% url 'userticket' ticket.created_by %}">
                            {{ticket.created_by}}
                        </a>
                    </th>
                    <th scope="row">
                        <a href="{% url 'userticket' ticket.user_assigned %}">
                            {{ticket.user_assigned}}
                        </a>
                    </th>
                    <th scope="row">{{ticket.date_created}}</th>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
</div>

<div class="jumbotron jumbotron-fluid" id="completed">
    <div class="container">
        <h1 class="display-5 text-center mb-3">COMPLETED TICKETS</h1>
        <div class="table-responsive-md">
            <table class="table table-bordered table-light  table-hover">
                <thead class="btn-success">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Title</th>
                    <th scope="col">Reported by:</th>
                    <th scope="col">Completed by:</th>
                    <th scope="col">Date Created:</th>
                </tr>
                </thead>
                <tbody>
                {% for ticket in completed %}
                <tr>
                    <th scope="row">{{ticket.id}}</th>
                    <th scope="row">
                        <a href="{% url 'ticketdetail' ticket.id %}">
                            {{ticket.title}}
                        </a>
                    </th>
                    <th scope="row">
                        <a href="{% url 'userticket' ticket.created_by %}">
                            {{ticket.created_by}}
                        </a>
                    </th>

                     <th scope="row">
                        <a href="{% url 'userticket' ticket.user_completed %}">
                            {{ticket.user_completed}}
                        </a>
                    </th>
                    <th scope="row">{{ticket.date_created}}</th>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>


<div class="jumbotron jumbotron-fluid" id="invalid">
    <div class="container">
        <h1 class="display-5 text-center mb-3">INVALID TICKETS</h1>
        <div class="table-responsive-md">
            <table class="table table-striped table-light    table-hover">
                <thead class="btn-dark">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Title</th>
                    <th scope="col">Reported by:</th>
                    <th scope="col">Assigned to:</th>
                    <th scope="col">Date Created:</th>
                </tr>
                </thead>
                <tbody>
                {% for ticket in invalid %}
                <tr>
                    <th scope="row">{{ticket.id}}</th>
                    <th scope="row">
                        <a href="{% url 'ticketdetail' ticket.id %}">
                            {{ticket.title}}
                        </a>
                    </th>
                    <th scope="row">
                        <a href="{% url 'userticket' ticket.created_by %}">
                            {{ticket.created_by}}
                        </a>
                    </th>
                    <th scope="row">
                        <a href="{% url 'userticket' ticket.user_assigned %}">
                            {{ticket.user_assigned}}
                        </a>
                    </th>
                    <th scope="row">{{ticket.date_created}}</th>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<!--<div class="jumbotron jumbotron-fluid">-->
<!--    <div class="container">-->
<!--        <h1 class="display-5 text-center mb-3">NEW TICKETS</h1>-->
<!--        <div class="table-responsive-md card">-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
{% endblock content%}